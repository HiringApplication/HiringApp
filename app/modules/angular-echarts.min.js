angular.module("echart",[]).directive("echart",function($window,$timeout){return{restrict:"E",template:"<div></div>",replace:!0,scope:{options:"=",data:"="},link:function(scope,element){if(!scope.data)return void console.log("no data provided!");var options=scope.options,elem0=element[0],chart=echarts.init(elem0);options&&"object"==typeof options&&(options.series=scope.data,chart.setOption(options,!0)),scope.$watch("data",function(newData,oldData){oldData!=newData&&chart.setOption({series:newData})}),angular.element(window).on("resize",chart.resize),scope.$on("$destroy",function(){angular.element(window).off("resize",chart.resize),chart.dispose(),chart=null})}}});